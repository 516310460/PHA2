(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{1187:function(t,e,n){var content=n(1237);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(59).default)("e64c0c3a",content,!0,{sourceMap:!1})},1236:function(t,e,n){"use strict";n(1187)},1237:function(t,e,n){var o=n(58)((function(i){return i[1]}));o.push([t.i,'.slide-verify[data-v-8cb765a6]{\n  position:relative;\n  width:310px;\n  overflow:hidden\n}\n.slide-verify-block[data-v-8cb765a6]{\n  position:absolute;\n  left:0;\n  top:0\n}\n.slide-verify-refresh-icon[data-v-8cb765a6]{\n  position:absolute;\n  right:0;\n  top:0;\n  width:34px;\n  height:34px;\n  cursor:pointer;\n  content:"刷新";\n  font-size:22px;\n  line-height:34px;\n  text-align:center;\n  font-weight:700;\n  color:#3fdeae;\n  background-size:34px 471px\n}\n.slide-verify-refresh-icon[data-v-8cb765a6]:hover{\n  transform:rotate(180deg);\n  transition:all .2s ease-in-out\n}\n.slide-verify-slider[data-v-8cb765a6]{\n  position:relative;\n  text-align:center;\n  width:310px;\n  height:40px;\n  line-height:40px;\n  margin-top:15px;\n  background:#f7f9fa;\n  color:#45494c;\n  border:1px solid #e4e7eb\n}\n.slide-verify-slider-mask[data-v-8cb765a6]{\n  position:absolute;\n  left:0;\n  top:0;\n  height:40px;\n  border:0 solid #1991fa;\n  background:#d1e9fe\n}\n.slide-verify-info[data-v-8cb765a6]{\n  position:absolute;\n  top:170px;\n  left:0;\n  height:30px;\n  width:350px;\n  color:#fff;\n  text-align:center;\n  line-height:30px;\n  background-color:#52ccba;\n  opacity:0\n}\n.slide-verify-info.fail[data-v-8cb765a6]{\n  background-color:#f57a7a\n}\n.slide-verify-info.show[data-v-8cb765a6]{\n  -webkit-animation:hide-data-v-8cb765a6 1s ease;\n          animation:hide-data-v-8cb765a6 1s ease\n}\n@-webkit-keyframes hide-data-v-8cb765a6{\n0%{\n    opacity:0\n}\nto{\n    opacity:.9\n}\n}\n@keyframes hide-data-v-8cb765a6{\n0%{\n    opacity:0\n}\nto{\n    opacity:.9\n}\n}\n.slide-verify-slider-mask-item[data-v-8cb765a6]{\n  position:absolute;\n  top:0;\n  left:0;\n  width:38px;\n  height:38px;\n  background:#fff;\n  box-shadow:0 0 3px rgba(0,0,0,.3);\n  cursor:pointer;\n  transition:background .2s linear\n}\n.slide-verify-slider-mask-item[data-v-8cb765a6]:hover{\n  background:#1991fa\n}\n.slide-verify-slider-mask-item:hover .slide-verify-slider-mask-item-icon[data-v-8cb765a6]{\n  background-position:0 -13px\n}\n.slide-verify-slider-mask-item-icon[data-v-8cb765a6]{\n  position:absolute;\n  top:9px;\n  left:7px;\n  width:14px;\n  height:12px;\n  content:"法币";\n  font-size:22px;\n  color:#ddd\n}\n.container-active .slide-verify-slider-mask-item[data-v-8cb765a6]{\n  height:38px;\n  top:-1px;\n  border:1px solid #1991fa\n}\n.container-active .slide-verify-slider-mask[data-v-8cb765a6]{\n  height:38px;\n  border-width:1px\n}\n.container-success .slide-verify-slider-mask-item[data-v-8cb765a6]{\n  height:38px;\n  top:-1px;\n  border:1px solid #52ccba;\n  background-color:#52ccba!important\n}\n.container-success .slide-verify-slider-mask[data-v-8cb765a6]{\n  height:38px;\n  border:1px solid #52ccba;\n  background-color:#d2f4ef\n}\n.container-success .slide-verify-slider-mask-item-icon[data-v-8cb765a6]{\n  background-position:0 0!important\n}\n.container-fail .slide-verify-slider-mask-item[data-v-8cb765a6]{\n  height:38px;\n  top:-1px;\n  border:1px solid #f57a7a;\n  background-color:#f57a7a!important\n}\n.container-fail .slide-verify-slider-mask[data-v-8cb765a6]{\n  height:38px;\n  border:1px solid #f57a7a;\n  background-color:#fce1e1\n}\n.container-fail .slide-verify-slider-mask-item-icon[data-v-8cb765a6]{\n  top:14px;\n  background-position:0 -82px!important\n}\n.container-active .slide-verify-slider-text[data-v-8cb765a6],.container-fail .slide-verify-slider-text[data-v-8cb765a6],.container-success .slide-verify-slider-text[data-v-8cb765a6]{\n  display:none\n}',""]),o.locals={},t.exports=o},1332:function(t,e,n){"use strict";n.r(e);n(153),n(132);function o(t,e){return t+e}function r(t){return t*t}var c={name:"SlideVerify",props:{l:{type:Number,default:42},r:{type:Number,default:10},w:{type:[Number,String],default:350},h:{type:[Number,String],default:200},sw:{type:[Number,String],default:50},sh:{type:[Number,String],default:50},blocky:{type:[Number,String],default:20},sliderText:{type:String,default:"Slide filled right"},imgurl:{type:String,default:""},miniimgurl:{type:String,default:""},fresh:{type:Boolean,default:!1}},data:function(){return{containerActive:!1,containerSuccess:!1,containerFail:!1,canvasCtx:null,blockCtx:null,block:null,canvasStr:null,L:this.l+2*this.r+3,img:void 0,originX:void 0,originY:void 0,isMouseDown:!1,trail:[],widthlable:"",sliderLeft:0,sliderMaskWidth:0,dialogVisible:!1,infoText:"验证成功",fail:!1,showInfo:!1}},watch:{fresh:function(t){t&&this.init()}},mounted:function(){this.init()},methods:{init:function(){this.initDom(),this.bindEvents(),this.widthlable="width:"+this.w+"px;"},initDom:function(){this.block=this.$refs.block,this.canvasStr=this.$refs.canvas,this.canvasCtx=this.canvasStr.getContext("2d"),this.blockCtx=this.block.getContext("2d"),this.initImg()},initImg:function(t){var e=this,img=document.createElement("img");img.onload=onload,img.onerror=function(){img.src=e.imgurl},img.src=e.imgurl,img.onload=function(){e.canvasCtx.drawImage(img,0,0,e.w,e.h)},this.img=img;var n=document.createElement("img"),o=e.blockCtx,r=t||e.blocky;0!==r&&(n.onerror=function(){n.src=e.miniimgurl},n.src=e.miniimgurl,n.onload=function(){o.drawImage(n,0,r,55,45)})},refresh:function(){this.$emit("refresh")},sliderDown:function(t){this.originX=t.clientX,this.originY=t.clientY,this.isMouseDown=!0},touchStartEvent:function(t){this.originX=t.changedTouches[0].pageX,this.originY=t.changedTouches[0].pageY,this.isMouseDown=!0},bindEvents:function(){var t=this;document.addEventListener("mousemove",(function(e){if(!t.isMouseDown)return!1;var n=e.clientX-t.originX,o=e.clientY-t.originY;if(n<0||n+38>=t.w)return!1;t.sliderLeft=n+"px";var r=(t.w-40-20)/(t.w-40)*n;t.block.style.left=r+"px",t.containerActive=!0,t.sliderMaskWidth=n+"px",t.trail.push(o)}),{passive:!0}),document.addEventListener("mouseup",(function(e){return!!t.isMouseDown&&(t.isMouseDown=!1,e.clientX!==t.originX&&(t.containerActive=!1,void t.verify()))}),{passive:!0})},touchMoveEvent:function(t){if(!this.isMouseDown)return!1;var e=t.changedTouches[0].pageX-this.originX,n=t.changedTouches[0].pageY-this.originY;if(e<0||e+38>=this.w)return!1;this.sliderLeft=e+"px";var o=(this.w-40-20)/(this.w-40)*e;this.block.style.left=o+"px",this.containerActive=!0,this.sliderMaskWidth=e+"px",this.trail.push(n)},touchEndEvent:function(t){return!!this.isMouseDown&&(this.isMouseDown=!1,t.changedTouches[0].pageX!==this.originX&&(this.containerActive=!1,void this.verify()))},verify:function(){var t=this.trail,e=t.reduce(o)/t.length,n=t.map((function(t){return t-e})),c=Math.sqrt(n.map(r).reduce(o)/t.length),l=parseInt(this.block.style.left);this.$emit("success",l,c)},reset:function(t){this.containerActive=!1,this.containerSuccess=!1,this.containerFail=!1,this.sliderLeft=0,this.block.style.left=0,this.sliderMaskWidth=0,this.canvasCtx.clearRect(0,0,this.w,this.h),this.blockCtx.clearRect(0,0,this.w,this.h),this.fail=!1,this.showInfo=!1,this.containerFail=!1,this.containerSuccess=!1,this.initImg(t)},handleFail:function(){this.fail=!0,this.showInfo=!0,this.infoText="验证失败",this.containerFail=!0},handleSuccess:function(){var t=this;this.showInfo=!0,this.infoText="验证成功",this.containerSuccess=!0,setTimeout((function(){t.block.style.left=0,t.sliderMaskWidth=0,t.sliderLeft=0,t.fail=!1,t.showInfo=!1,t.containerSuccess=!1}),1e3)}}},l=(n(1236),n(41)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"slide-verify",style:t.widthlable,attrs:{id:"slideVerify",onselectstart:"return false;"}},[n("canvas",{ref:"canvas",attrs:{width:t.w,height:t.h}}),t._v(" "),n("canvas",{ref:"block",staticClass:"slide-verify-block",attrs:{width:t.w,height:t.h}}),t._v(" "),n("div",{staticClass:"slide-verify-refresh-icon el-icon-refresh",on:{click:t.refresh}}),t._v(" "),n("div",{staticClass:"slide-verify-info",class:{fail:t.fail,show:t.showInfo},on:{click:t.refresh}},[t._v(t._s(t.infoText))]),t._v(" "),n("div",{staticClass:"slide-verify-slider",class:{"container-active":t.containerActive,"container-success":t.containerSuccess,"container-fail":t.containerFail},style:t.widthlable},[n("div",{staticClass:"slide-verify-slider-mask",style:{width:t.sliderMaskWidth}},[n("div",{staticClass:"slide-verify-slider-mask-item",style:{left:t.sliderLeft},on:{mousedown:t.sliderDown,touchstart:t.touchStartEvent,touchmove:t.touchMoveEvent,touchend:t.touchEndEvent}},[n("div",{staticClass:"slide-verify-slider-mask-item-icon el-icon-s-unfold"})])]),t._v(" "),n("span",{staticClass:"slide-verify-slider-text"},[t._v(t._s(t.sliderText))])])])}),[],!1,null,"8cb765a6",null);e.default=component.exports}}]);