(window.webpackJsonp=window.webpackJsonp||[]).push([[0,18],{1189:function(t,e,n){"use strict";n.r(e);n(55),n(63),n(42),n(79),n(80),n(74);e.default={getContext2D:function(element){return element?element.getContext("2d"):null},isEmpty:function(map){return!map||(map instanceof Array?!map.length:!Object.keys(map).length)},toPretty:function(t){return(t=t||0)<100?t.toFixed(2):t<1e6?(t/1e3).toFixed(1)+" K":t<1e7?(t/1e6).toFixed(1)+" M":t<1e9?(t/1e6).toFixed(0)+" M":t<1e10?(t/1e9).toFixed(1)+" B":(t/1e9).toFixed(0)+" B"},toThousand:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===t?0:(t||0).toString().replace(/\d+/,(function(t){var e=t.length;return e%3==0?t.replace(/(\d{3})/g,",$1").slice(1):t.slice(0,e%3)+t.slice(e%3).replace(/(\d{3})/g,",$1")}))}}},1190:function(t,e,n){var content=n(1239);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(59).default)("32a8b26e",content,!0,{sourceMap:!1})},1238:function(t,e,n){"use strict";n(1190)},1239:function(t,e,n){var r=n(58)((function(i){return i[1]}));r.push([t.i,".bk09[data-v-870dfd1a]{\n  background-color:#09b67d\n}\n.bk10[data-v-870dfd1a]{\n  background:#b8babb!important;\n  background-color:#b8babb!important\n}\n.bk19[data-v-870dfd1a]{\n  background-color:#f7f7f7\n}\n.bk29[data-v-870dfd1a]{\n  background-color:#fff\n}\n.bk34[data-v-870dfd1a]{\n  background-color:#a3acbd\n}\n.bk52[data-v-870dfd1a]{\n  background-color:#333\n}\n.bk62[data-v-870dfd1a]{\n  background-color:#0b1821\n}\n.bk88[data-v-870dfd1a]{\n  background-color:#02ad8f\n}\n.bk112[data-v-870dfd1a]{\n  background-color:#131722\n}\n.bk113[data-v-870dfd1a]{\n  background-color:#02ad8f\n}\n.bk114[data-v-870dfd1a]{\n  background-color:#222e3e\n}\n.bk117[data-v-870dfd1a]{\n  background-color:#08050c\n}\n.bk121[data-v-870dfd1a]{\n  background-color:#13181a\n}\n.bk122[data-v-870dfd1a]{\n  background-color:#162229\n}\n.cl08[data-v-870dfd1a]{\n  color:#aa5369\n}\n.cl09[data-v-870dfd1a]{\n  color:#09b67d\n}\n.cl23[data-v-870dfd1a]{\n  color:#5c5c5c\n}\n.cl24[data-v-870dfd1a]{\n  color:#858585\n}\n.cl25[data-v-870dfd1a]{\n  color:#adadad\n}\n.cl29[data-v-870dfd1a]{\n  color:#fff\n}\n.cl52[data-v-870dfd1a]{\n  color:#333\n}\n.cl75[data-v-870dfd1a]{\n  color:#959595\n}\n.cl77[data-v-870dfd1a]{\n  color:#cd332d\n}\n.cl88[data-v-870dfd1a]{\n  color:#02ad8f\n}\n.cl110[data-v-870dfd1a]{\n  color:#4adb62\n}\n.cl113[data-v-870dfd1a]{\n  color:#02ad8f\n}\n.cl123[data-v-870dfd1a]{\n  color:#c1d3df\n}\n.cl125[data-v-870dfd1a]{\n  color:#707d8f\n}\n.cl127[data-v-870dfd1a]{\n  color:#08b67e\n}\n.cl128[data-v-870dfd1a]{\n  color:#d5742c\n}\n.cl_buy[data-v-870dfd1a]{\n  color:#03bf7b\n}\n.cl_sell[data-v-870dfd1a]{\n  color:#eb4d5c\n}\n.br-cl09[data-v-870dfd1a]{\n  border:1px solid #09b67d\n}\n.br-cl13[data-v-870dfd1a]{\n  border:1px solid #47545c\n}\n.br-cl72[data-v-870dfd1a]{\n  border:1px solid #ededed\n}\n.tl[data-v-870dfd1a]{\n  text-align:left\n}\n.tc[data-v-870dfd1a]{\n  text-align:center\n}\n.tr[data-v-870dfd1a]{\n  text-align:right\n}\n.fl[data-v-870dfd1a]{\n  float:left\n}\n.fr[data-v-870dfd1a]{\n  float:right\n}\n.hover-cl09[data-v-870dfd1a]:hover{\n  cursor:pointer;\n  color:#09b67d\n}\n.chart-layout[data-v-870dfd1a]{\n  position:relative;\n  background:#1e222a\n}\n.chart-layout canvas[data-v-870dfd1a]{\n  position:absolute\n}",""]),r.locals={},t.exports=r},1322:function(t,e,n){"use strict";n.r(e);n(55),n(50),n(72),n(73),n(74),n(71),n(94);var r=n(37),l=(n(153),n(1188),n(95),n(42),n(96),n(60),n(642),n(1189));function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,d=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){d=!0,l=t},f:function(){try{o||null==n.return||n.return()}finally{if(d)throw l}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var c={name:"HelloWorld",props:{bgColor:{type:String,default:"#1E222A"},options:{type:Object,default:null},buyFillColor:{type:String,default:"rgb(3, 191, 123, 1)"},sellFillColor:{type:String,default:"rgb(235, 77, 92)"},gap:{type:Number,default:10},jagged:{type:Boolean,default:!1},paddingTop:{type:Number,default:10},depthsData:{type:Object,default:{depths:{asks:[],bids:[]}}}},data:function(){return{chart:null,context:null,maskChart:null,maskContext:null,xChart:null,xChartContext:null,yChart:null,yChartContext:null,finalOptions:f({},this.options),fHeight:0,fWidth:0,width:0,height:0,hasPaint:!1,args:null,valueMap:new Map,valueData:[],buyData:[],sellData:[],initState:!1,timeInterval:null,buyInitState:!1,sellInitState:!1,timer:null}},computed:{wrapStyles:function(){return{height:this.fHeight+24+"px"}},chartStyles:function(){return{backgroundColor:this.bgColor,width:this.fWidth+"px",height:this.fHeight+"px"}},xStyles:function(){return{top:this.fHeight+"px",left:0}},yStyles:function(){return{top:0,left:this.fWidth+"px"}},isEmptyData:function(){var t={buy:this.buyData,sell:this.sellData};return l.default.isEmpty(t)}},watch:{depthsData:{handler:function(t,e){if(t.bids.length){var n=[];t.bids.forEach((function(t,e){n.push({index:e,price:t[0],total:t[1],volume:t[1]})})),this.buyData=n}if(t.asks.length){var r=[];t.asks.forEach((function(t,e){r.push({index:e,price:t[0],total:t[1],volume:t[1]})})),this.sellData=r.reverse()}this.sellData.length&&this.sellData[0].total&&this.buyData.length&&this.buyData[0].total&&this._initChart()},deep:!0}},destroyed:function(){clearInterval(this.timeInterval),clearTimeout(this.timer)},mounted:function(){var t=this;this.$nextTick((function(){t.timer=setTimeout((function(){t.handleResize()})),window.addEventListener("resize",t.handleResize),t.$bus.on("changeTheme",(function(){t.sellData.length&&t.sellData[0].total&&t.buyData.length&&t.buyData[0].total&&t._initChart()}))}))},beforeDestroy:function(){this._resetChart()},methods:{handleResize:function(){this.width&&this.width==this.$refs["depth-chart"].clientWidth&&this.height==this.$refs["depth-chart"].clientHeight||(this.width=this.$refs["depth-chart"].clientWidth,this.height=this.$refs["depth-chart"].clientHeight,this.fHeight=parseFloat(this.height)-24,this.fWidth=parseFloat(this.width)-48,this.initState=!1)},_initChart:function(){if(this.chart=this.$refs.chart,this.context=l.default.getContext2D(this.chart),this.maskChart=this.$refs.chartMask,this.maskContext=l.default.getContext2D(this.maskChart),this.xChart=this.$refs.xChart,this.xChartContext=l.default.getContext2D(this.xChart),this.yChart=this.$refs.yChart,this.yChartContext=l.default.getContext2D(this.yChart),this.maskContext&&this.xChartContext&&this.yChartContext){this.maskContext.clearRect(0,0,parseFloat(this.fWidth),parseFloat(this.fHeight)),this.xChartContext.clearRect(0,0,parseFloat(this.fWidth),24),this.yChartContext.clearRect(0,0,parseFloat(this.fHeight),parseFloat(this.fHeight));var t={buy:this.buyData,sell:this.sellData};this._drawChart(t)}},_initChartData:function(){var t,e,n=this.buyData.length,r=this.sellData.length,l={};if(n&&r){var o=this.buyData,h=Number(o[0].price),d=Number(o[o.length-1].price),f=o.length>1?Number(h-d):o[0].price,c=this.sellData,y=Number(c[0].price),v=Number(c[c.length-1].price),x=Number(v-y);if(f<x){t=Number(y+f),l.buy=this.buyData;for(var i=0;i<this.sellData.length;i++){var C=this.sellData[i];if(t===C.price){e=i;break}if(C.price>t){e=i;break}}l.sell=this.sellData.filter((function(t,n){return e>=n}))}else{t=Number(d+x),l.sell=this.sellData;for(var m=0;m<this.buyData.length;m++){var k=this.buyData[m];if(t===k.price){e=m;break}if(k.price>t){e=m;break}}l.buy=this.buyData.filter((function(t,n){return e<=n}))}}return console.log(l),l},_resetChart:function(){this.chart=this.maskChart=this.xChart=this.yChart=null},_drawChart:function(data){if(this.args=this._calcArgs(data,this.fWidth,this.fHeight),!this.isEmptyData){var t=this.context,e=parseFloat(this.fWidth),n=parseFloat(this.fHeight);this._drawMainCanvas(t,data,e,n,this.args),this._drawXLine(data),this._drawYLine(),this.hasPaint=!0}},_calcArgs:function(data,t,e){if(!this.isEmptyData||data.sell.length&&!data.sell[data.sell.length-1].total||data.buy.length&&!data.buy[data.buy.length-1].total){var n=Math.max(data.sell[data.sell.length-1].total,data.buy[data.buy.length-1].total);return{maxAmount:n,scaleH:n/e,scaleW:t/2/data.sell.length}}return null},_drawMainCanvas:function(t,data,e,n,r){if(!r)throw new Error("args not ok");this.hasPaint&&t.clearRect(0,0,e,n),t.fillStyle="day"==this.$store.state.background?"#FFFFFF":"#1E222A",t.fillRect(0,0,e,n),this.initState||(this.initState=!0,this.context.scale(2,2));var l=r.maxAmount,o=this.paddingTop,h=this.gap,d=e/2,f=[],c=0,y=o,v={x:c,y:y},x=data.buy.length,C=data.sell.length;if(x){var m=d/(x||1);for(var i in t.beginPath(),t.fillStyle=this.buyFillColor,data.buy){var k=data.buy[i];c=d-i*m-h,y=n-k.total/l*(n-24),0===Number(i)&&c>0&&t.lineTo(c,n),c<=2&&(c=2),f.push({x:c,y:y,value:k,side:"buy"}),this.jagged&&t.lineTo(c,v.y),t.lineTo(c,y),t.stroke(),v={x:c,y:y}}t.lineWidth=3,t.strokeStyle="#0D7680",t.lineTo(0,y),t.lineTo(0,n),t.lineTo(d-h,n),t.stroke(),t.fill(),t.closePath()}if(C){var D=d/(C||1);for(var w in t.beginPath(),t.fillStyle=this.sellFillColor,t.moveTo(d+h,n),v={x:d+h,y:n},data.sell){var S=data.sell[w];c=d+w*D+h,y=n-S.total/l*(n-24),c>e-2&&(c=e-2),f.push({x:c,y:y,value:S,side:"sell"}),this.jagged&&t.lineTo(c,v.y),t.lineTo(c,y),v={x:c,y:y}}t.lineWidth=3,t.strokeStyle="#8F223A",t.lineTo(e+h,y),t.lineTo(e+h,n),t.lineTo(d+h,n),t.stroke(),t.fill(),t.closePath(),f.pop(),f=f.sort((function(a,b){return a.x-b.x}));var T=[];f.forEach((function(t){T.push({x:t.x,y:t.y,side:t.side,value:t.value})})),this.valueData=T}},_drawXLine:function(data){var t=this.xChartContext,e=parseFloat(this.fWidth);this.hasPaint&&t.clearRect(0,0,e,24),t.font="10px Sans-Serif",t.fillStyle="day"==this.$store.state.background?"#1E222A":"#ffffff";var n=data.buy.length,r=data.sell.length,l=e/2,o=e<=650?3:4;this._xPagesFn(n,l,o,t,data,"buy",e),this._xPagesFn(r,l,o,t,data,"sell",e)},_xPagesFn:function(t,e,n,r,data,l,o){if(t)for(var h=0,d=e/(t||1),f=Math.ceil(t/n),i=0;i<t;i++){var c=data[l][i];if(!(i%f)){var text=c.price,y=Math.floor(r.measureText(text).width);(h="sell"===l?e+16+i*d:e-i*d-y)+y>=o&&(h=o-y),r.fillText(text,h,16)}}},_drawYLine:function(){var t=0,e=0,n=parseFloat(this.fHeight),r=this.args.maxAmount,o=this.yChartContext;this.hasPaint&&o.clearRect(0,0,48,n),o.font="10px Sans-Serif",o.fillStyle="day"==this.$store.state.background?"#1E222A":"#ffffff";for(var h=r/5,i=0;i<6;i++)t=6,e=n-h*i/r*(n-24),o.fillText(l.default.toPretty(h*i),t,e)},handleMouseMove:function(t){var e=t.offsetX,n=(t.offsetY,this.valueMap,this.valueData),r=this.maskContext,h=this.fWidth,d=this.fHeight,f=h/2;if(this.maskContext){r.clearRect(0,0,h,d);var c,y=o(n);try{for(y.s();!(c=y.n()).done;){var v=c.value,x=v.x,C=v.y,m=v.side,k=v.value,D="buy"===m?"rgb(3, 191, 123, 1)":"rgb(235, 77, 92)",w="buy"===m?"rgba(13, 118, 128, 0.35)":"rgba(143, 34, 58, 0.35)",S=e<f;if(e<x){r.strokeStyle=D,r.lineWidth=2,r.setLineDash([3]),r.clearRect(0,0,h,d),r.beginPath(),r.moveTo(x,C),r.lineTo(x,d),r.stroke(),r.closePath(),r.beginPath(),r.fillStyle=w,r.arc(x,C,10,0,2*Math.PI),r.fill(),r.closePath(),r.beginPath(),r.fillStyle=D,r.arc(x,C,5,0,2*Math.PI),r.fill(),r.closePath(),r.beginPath(),r.fillStyle="day"==this.$store.state.background?"rgb(248, 249, 251)":"rgb(19, 23, 34, .9)",r.font="12px bold";var T=152,P=x-76,F=C-96-10;Math.max(r.measureText(this.$t("HashRate.pro.depthChart.title1")).width,r.measureText(this.$t("HashRate.pro.depthChart.title2")).width);F<=0&&(F=C+10);var _=P+76,O=P-76,$=S?P+10+76+6:P-10+T-206;this.drawRoundedRect(r,S?_:O,F,T,96,4,!0,!1),r.fillStyle=D,r.fillRect(_,F,2,96),r.textAlign="left",r.fillStyle="day"==this.$store.state.background?"rgb(19, 23, 34)":"#ffffff",r.fillText(this.$t("HashRate.pro.depthChart.title1"),$,F+24),r.fillStyle="day"==this.$store.state.background?"rgb(19, 23, 34)":"#ffffff",r.fillText(l.default.toThousand(k.price),$,F+24+16),r.fillStyle="day"==this.$store.state.background?"rgb(19, 23, 34)":"#ffffff",r.fillText(this.$t("HashRate.pro.depthChart.title2"),$,F+24+20+24),r.fillStyle="day"==this.$store.state.background?"rgb(19, 23, 34)":"#ffffff",r.fillText(l.default.toThousand(k.total),$,F+24+20+40),r.closePath();break}}}catch(t){y.e(t)}finally{y.f()}}},handleMouseOut:function(){var t=this.maskContext,e=this.fWidth,n=this.fHeight;this.maskContext&&t.clearRect(0,0,e,n)},drawRoundedRect:function(t,e,n,r,l,o,h,d){t.save(),t.beginPath(),t.moveTo(e+o,n),t.arcTo(e+r,n,e+r,n+o,o),t.arcTo(e+r,n+l,e+r-o,n+l,o),t.arcTo(e,n+l,e,n+l-o,o),t.arcTo(e,n,e+o,n,o),h&&t.fill(),d&&t.stroke(),t.restore()}}},y=(n(1238),n(41)),component=Object(y.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"depth-chart",staticClass:"depth-chart"},[n("div",{staticClass:"chart-layout",style:t.wrapStyles},[n("canvas",{ref:"chart",staticClass:"chart",style:t.chartStyles,attrs:{width:2*t.fWidth,height:2*t.fHeight}}),t._v(" "),n("canvas",{ref:"chartMask",staticClass:"chart-mask",attrs:{width:t.fWidth,height:t.fHeight},on:{mousemove:t.handleMouseMove,mouseout:t.handleMouseOut}}),t._v(" "),n("canvas",{ref:"xChart",staticClass:"chart-x",style:t.xStyles,attrs:{width:t.fWidth,height:"24"}}),t._v(" "),n("canvas",{ref:"yChart",staticClass:"chart-y",style:t.yStyles,attrs:{width:"48",height:t.fHeight}})])])}),[],!1,null,"870dfd1a",null);e.default=component.exports}}]);