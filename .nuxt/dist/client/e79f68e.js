(window.webpackJsonp=window.webpackJsonp||[]).push([[28,7,8,9,13,15],{1127:function(t,e,n){"use strict";n.r(e);n(184),n(71),n(112),n(93),n(132),n(42),n(79),n(80),n(636);e.default={history:{},timer:{},pollingtimer:{},subs:[],init:function(){this.history={},this.timer={},this.subs=[]},formatBar:function(data,t,e,n,r){var o=this,sub=this.subs.find((function(t){return t.symbolInfo===e.name}));if(!sub||!sub.lastBar)return!1;var c=sub.lastBar,l=sub.resolution;l.includes("1D")?l=1440:l.includes("1W")&&(l=10080);var d=60*l,h=c.time/1e3;Array.isArray(data)||(data=[data]),data.sort((function(a,b){return a.t-b.t}));return data.map((function(e){var o={};return Math.floor(e.t/d)*d>h?(o={low:c.close,high:c.close,open:c.close,close:e.c,volume:e.v}).time=t.global_get_local_time(e.t).valueOf():(o=c,e.c<c.low?o.low=e.c:e.c>c.high&&(o.high=e.c),r||"1"!=l.toString()&&!n||(o.volume=e.v),o.close=e.c),o})).forEach((function(t){var n=t;if(n.time<c.time)return!0;setTimeout((function(){sub.listener(n)}),6),sub.lastBar=n,o.history[e.name].lastBar=n})),!0},gettimer:function(t){switch(t=t.toString()){case"1":return 2e3;case"5":case"15":case"30":case"60":case"240":case"D":case"1D":case"1W":case"1M":return 5e3}},getLastBarsOther:function(t,e,n,r,o,c,l){var d=this;t.$pubsub.subscribe(t.$pubsub.changeNewMoney,(function(sub,n){if(n&&n.symble==t.symbleParameString){var data={t:n.ts,c:n.price,v:n.amount};d.formatBar.call(d,data,t,e,!1,!0)}})),function n(){t.$store.dispatch(t.$socket.url.quotation_kline_get,{type:t.resolutionInterval,size:1,symble:t.symbleParameString}).then((function(r){var data=r.data;if(data){var o=d.timer[e.name+"_"+t.resolutionInterval],sub=d.subs.find((function(t){return t.symbolInfo===e.name}));if(!sub)return;for(var c in-1!=o&&(sub=d.formatBar.call(d,data,t,e,!0)),d.timer)clearTimeout(d.timer[c]),d.timer[c]=-1;sub&&-1!=o&&(d.timer[e.name+"_"+t.resolutionInterval]=setTimeout(n,15e3))}}))}()},getLastBars:function(t,e,n,r,o,c,l){var d=this;t.$socket.invoke({sub:t.sub,type:t.$socket.type.quotation_kline_get}),t.$socket.is()||function r(){t.$store.dispatch(t.$socket.url.quotation_kline_get,{type:t.resolutionInterval,size:1,symble:t.symbleParameString}).then((function(o){var data=o.data;if(data){var c=d.formatBar.call(d,data,t,e);for(var l in d.pollingtimer)clearTimeout(d.pollingtimer[l]),d.pollingtimer[l]=-1;c&&(d.pollingtimer[e.name]=setTimeout(r,d.gettimer(n)))}}))}(),t.$socket.receive(t.$socket.type.quotation_kline_get,(function(n){if(n&&n.topic==t.sub){var data=n.data;d.formatBar.call(d,data,t,e)||t.$socket.uninvoke(t.$socket.type.quotation_kline_get)}}))},getBars:function(t,e,n,r,o,c,l){var d=o;this.history[e.name]&&this.history[e.name].firstBar&&(d=this.history[e.name].firstBar.time/1e3);var h={etime:d,type:t.resolutionInterval,symble:t.symbleParameString},f=this;return t.$store.dispatch("quotation_kline_get",h).then((function(n){var data=n.data;if(data){data.sort((function(a,b){return a.t-b.t}));var r=t.bars=data.map((function(e){return{time:t.global_get_local_time(e.t).valueOf(),low:e.l,high:e.h,open:e.o,close:e.c,volume:e.v}}));return f.history[e.name]={lastBar:r[r.length-1],firstBar:r[0]},r}return[]}))}}},1165:function(t,e,n){"use strict";n.r(e);n(71),n(1146);var r=n(1127);e.default={subscribeBars:function(t,e,n,o,c){var l=r.default.history[t.name]?r.default.history[t.name].lastBar:null,d={uid:o,resolution:e,symbolInfo:t.name,lastBar:l,listener:n};r.default.subs.push(d)},unsubscribeBars:function(t){var e=r.default.subs.findIndex((function(e){return e.uid===t}));-1!==e&&r.default.subs.splice(e,1)}}},1166:function(t,e,n){"use strict";n.r(e);var r=n(3),o=n(4),c=(n(42),n(79),n(80),function(){function t(e,n){Object(r.a)(this,t),this.self=n,this.subscribers={},this.requestsPending=0,this.historyProvider=e}return Object(o.a)(t,[{key:"subscribeBars",value:function(t,e,n,r){"4hour"!=this.self.interval&&"240"!=e||(e="240"),"1day"!=this.self.interval&&"1day"!=e||(e="1D"),"1week"!=this.self.interval&&"1week"!=e&&"10080"!=this.self.interval&&"10080"!=e||(e="10080"),"1mon"!=this.self.interval&&"1mon"!=e&&"43200"!=this.self.interval&&"43200"!=e||(e="43200"),this.subscribers[r]={lastBarTime:null,listener:n,resolution:e,symbolInfo:t}}},{key:"unsubscribeBars",value:function(t){delete this.subscribers[t]}},{key:"updateData",value:function(){var t=this;if(2==this.self.connState&&(this.requestsPending=0),!this.requestsPending)for(var e in this.requestsPending=0,this.subscribers)this.requestsPending++,this.updateDataForSubscriber(e).then((function(){return t.requestsPending--})).catch((function(){return t.requestsPending--}))}},{key:"updateDataForSubscriber",value:function(t){var e=this;return new Promise((function(n,r){var o=e.subscribers[t],c=parseInt((Date.now()/1e3).toString()),l=c-e.periodLengthSeconds(o.resolution,10);e.historyProvider.getBars(o.symbolInfo,o.resolution,l,c,(function(r){e.onSubscriberDataReceived(t,r),n()}),(function(){r()}))}))}},{key:"onSubscriberDataReceived",value:function(t,e){if(this.subscribers.hasOwnProperty(t)&&e.length){var n=e[e.length-1],r=this.subscribers[t];if(!(null!==r.lastBarTime&&n.time<r.lastBarTime)){if(null!==r.lastBarTime&&n.time>r.lastBarTime){if(e.length<2)throw new Error("Not enough bars in history for proper pulse update. Need at least 2.");var o=e[e.length-2];r.listener(o)}r.lastBarTime=n.time,r.listener(n)}}}},{key:"periodLengthSeconds",value:function(t,e){return 24*("240"==t?e/6:"D"===t||"1D"===t?e:"M"===t||"1M"===t||"43200"==t?31*e:"W"===t||"1W"===t||"10080"==t?7*e:e*parseInt(t)/1440)*60*60}}]),t}());e.default=c},1203:function(t,e,n){"use strict";n.r(e);n(226);var r=n(1165),o=n(1127),c=["1","5","10","15","30","60","120","240","360","720","4H","1D","1W","1M"];e.default={createFeed:function(t){return o.default.init(),{onReady:function(t){setTimeout((function(){return t({supported_resolutions:c})}),0)},searchSymbols:function(t,e,n,r){},resolveSymbol:function(e,n,r){var o={name:t.from+":"+t.to,ticker:t.from+":"+t.to,type:"crypto",session:"24x7",regular_session:"24x7",minmov:1,pricescale:1e8,has_intraday:!0,has_daily:!0,has_weekly_and_monthly:!0,volume_precision:8,data_status:"streaming",intraday_multipliers:c,timezone:t.timezone};t.to.toUpperCase().match(/USD|EUR|JPY|AUD|GBP|KRW|CNY/)&&(o.pricescale=100),setTimeout((function(){n(o)}),0)},getBars:function(e,n,r,c,l,d,h){o.default.getBars(t,e,n,r,c,h).then((function(d){d.length?setTimeout((function(){l(d),h&&["1","5"].indexOf(n)>=0&&(o.default.getLastBars(t,e,n,r,c,h),o.default.getLastBarsOther(t,e,n,r,c,h))}),6):setTimeout((function(){l(d,{noData:!0})}),6)})).catch((function(t){d(t)}))},subscribeBars:function(t,e,n,o,c){r.default.subscribeBars(t,e,n,o,c)},unsubscribeBars:function(t){r.default.unsubscribeBars(t)},calculateHistoryDepth:function(t,e,n){},getMarks:function(t,e,n,r,o){var c=function(){for(var t=1,time=Date.parse(new Date)/1e3,e={border:"#103bff",background:"#ff00e9"},n=[],i=0;i<15;i++){var mark={};mark.id=t++,mark.time=time,time-=28800,mark.color=e,mark.text="这是标记: "+(t-1),mark.label="S",mark.labelFontColor="#ff8e53",mark.minSize=5,n.push(mark)}return n};setTimeout((function(){r(c)}),3e3)},getTimeScaleMarks:function(t,e,n,r,o){},getServerTime:function(t){}}}}},1204:function(t,e,n){"use strict";n.r(e);var r=n(53),o=(n(42),n(79),n(80),n(63),Object.assign||function(t){for(var e,n=arguments,i=1,r=arguments.length;i<r;i++)for(var s in e=n[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}),s={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},c={width:800,height:500,interval:"D",timezone:"UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"W"},{text:"1y",resolution:"W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};function l(t,e){var i=o({},t);for(var s in e)"object"!=Object(r.a)(t[s])||null===t[s]||Array.isArray(t[s])?void 0!==e[s]&&(i[s]=e[s]):i[s]=l(t[s],e[s]);return i}e.default={widget:function(){function t(t){if(this._id="coinpool_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error("Datafeed is not defined");if(this._options=l(c,t),t.preset){var e=s[t.preset];e?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(e.disabled_features):this._options.disabled_features=e.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(e.enabled_features):this._options.enabled_features=e.enabled_features):console.warn("Unknown preset: `"+t.preset+"`")}this._create()}return t.prototype.onChartReady=function(t){this._ready?t.call(this):this._readyHandlers.push(t)},t.prototype.onGrayedObjectClicked=function(t){this._innerAPI().onGrayedObjectClicked(t)},t.prototype.onShortcut=function(t,e){this._innerWindow().createShortcutAction(t,e)},t.prototype.subscribe=function(t,e){this._innerAPI().subscribe(t,e)},t.prototype.unsubscribe=function(t,e){this._innerAPI().unsubscribe(t,e)},t.prototype.chart=function(t){return this._innerAPI().chart(t)},t.prototype.setLanguage=function(t){this.remove(),this._options.locale=t,this._create()},t.prototype.setSymbol=function(t,e,n){this._innerAPI().changeSymbol(t,e+"",n)},t.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id];var t=this._getIFrameElement();t.contentWindow.destroyChart(),t.parentNode&&t.parentNode.removeChild(t)},t.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},t.prototype.selectLineTool=function(t){this._innerAPI().selectLineTool(t)},t.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},t.prototype.save=function(t){this._innerAPI().saveChart(t)},t.prototype.load=function(t,e){this._innerAPI().loadChart({json:t,extendedData:e})},t.prototype.getSavedCharts=function(t){this._innerAPI().getSavedCharts(t)},t.prototype.loadChartFromServer=function(t){this._innerAPI().loadChartFromServer(t)},t.prototype.saveChartToServer=function(t,e,n,i){this._innerAPI().saveChartToServer(t,e,n,i)},t.prototype.removeChartFromServer=function(t,e){this._innerAPI().removeChartFromServer(t,e)},t.prototype.onContextMenu=function(t){this._innerAPI().onContextMenu(t)},t.prototype.createButton=function(t){return this._innerWindow().createButton(t)},t.prototype.showNoticeDialog=function(t){this._innerAPI().showNoticeDialog(t)},t.prototype.showConfirmDialog=function(t){this._innerAPI().showConfirmDialog(t)},t.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},t.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},t.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},t.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},t.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},t.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},t.prototype.addCustomCSSFile=function(t){this._innerWindow().addCustomCSSFile(t)},t.prototype.applyOverrides=function(t){this._options=l(this._options,{overrides:t}),this._innerWindow().applyOverrides(t)},t.prototype.applyStudiesOverrides=function(t){this._innerWindow().applyStudiesOverrides(t)},t.prototype.watchList=function(){return this._innerAPI().watchlist()},t.prototype.activeChart=function(){return this._innerAPI().activeChart()},t.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},t.prototype.layout=function(){return this._innerAPI().layout()},t.prototype.setLayout=function(t){this._innerAPI().setLayout(t)},t.prototype._getIFrameElement=function(){var t=document.getElementById(this._id);if(null===t)throw new Error("There is no such iframe");return t},t.prototype._innerAPI=function(){return this._getIFrameElement().contentWindow.tradingViewApi},t.prototype._innerWindow=function(){return this._getIFrameElement().contentWindow},t.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._getIFrameElement().style.height=window.innerHeight+"px")},t.prototype._create=function(){var t=this,e=this._render(),n=document.getElementById(this._options.container_id);if(null===n)throw new Error("There is no such element - #"+this._options.container_id);n.innerHTML=e;var i=this._getIFrameElement();(this._options.autosize||this._options.fullscreen)&&(i.style.width="100%",this._options.fullscreen||(i.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize();i.addEventListener("load",(function e(){i.removeEventListener("load",e,!1),i.contentWindow.widgetReady((function(){t._ready=!0;for(var e=0,n=t._readyHandlers;e<n.length;e++)n[e].call(t);i.contentWindow.initializationFinished()}))}),!1)},t.prototype._render=function(){var t=window;t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter},this._options.saved_data&&(t[this._id].chartContent={json:this._options.saved_data});var e=(this._options.library_path||"")+"static/tv-chart.630b704a2b9d0eaf1593.html#localserver=1&symbol="+encodeURIComponent(this._options.symbol)+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+this._options.toolbar_bg.replace("#",""):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.indicators_file_name?"&indicatorsFile="+encodeURIComponent(this._options.indicators_file_name):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+this._options.debug+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+e+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="visibility: hidden;"></iframe>'},t}()}},1205:function(t,e,n){"use strict";n.r(e);var r=n(3),o=n(4),c=(n(42),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wss://api.fcoin.com/v2/ws",n=arguments.length>1?arguments[1]:void 0;Object(r.a)(this,t),this.heartBeatTimer=null,this.options=n,this.messageMap={},this.connState=0,this.socket=null,this.url=e}return Object(o.a)(t,[{key:"doOpen",value:function(){var t=this;if(!this.connState){this.connState=1,this.afterOpenEmit=[];var e=new(window.WebSocket||window.MozWebSocket)(this.url);e.binaryType="arraybuffer",e.onopen=function(e){return t.onOpen(e)},e.onclose=function(e){return t.onClose(e)},e.onmessage=function(e){return t.onMessage(e.data)},e.onerror=function(e){return t.onError(e)},this.socket=e}}},{key:"onOpen",value:function(t){this.connState=2,this.heartBeatTimer=setInterval(this.checkHeartbeat.bind(this),2e4),this.onReceiver({Event:"open"})}},{key:"checkOpen",value:function(){return 2===this.connState}},{key:"onClose",value:function(){this.connState=0,this.connState&&this.onReceiver({Event:"close"})}},{key:"send",value:function(data){this.socket.send(JSON.stringify(data)),this.socket.bufferedAmount}},{key:"emit",value:function(data){var t=this;return new Promise((function(e){t.socket.send(JSON.stringify(data)),t.on("message",(function(data){e(data)}))}))}},{key:"onMessage",value:function(t){try{var data=JSON.parse(t);this.onReceiver({Event:"message",Data:data})}catch(t){console.error(" >> Data parsing error:",t)}}},{key:"checkHeartbeat",value:function(){var data={cmd:"ping",args:[Date.parse(new Date)]};this.send(data)}},{key:"onError",value:function(t){}},{key:"onReceiver",value:function(data){var t=this.messageMap[data.Event];t&&t(data.Data)}},{key:"on",value:function(t,e){this.messageMap[t]=e}},{key:"doClose",value:function(){this.socket.close()}},{key:"destroy",value:function(){this.heartBeatTimer&&(clearInterval(this.heartBeatTimer),this.heartBeatTimer=null),this.doClose(),this.messageMap={},this.connState=0,this.socket=null}}]),t}());e.default=c},1206:function(t,e,n){"use strict";n.r(e);var r=n(3),o=n(4),c=(n(42),n(131),n(153),n(1166)),l=function(){function t(e){Object(r.a)(this,t),this.self=e,this.barsUpdater=new c.default(this,e)}return Object(o.a)(t,[{key:"onReady",value:function(t){var e=this;return new Promise((function(t,n){var r=e.defaultConfiguration();e.self.getConfig&&(r=Object.assign(e.defaultConfiguration(),e.self.getConfig())),t(r)})).then((function(data){return t(data)}))}},{key:"resolveSymbol",value:function(t,e,n){var r=this;return new Promise((function(t,e){var n=r.defaultSymbol();r.self.getSymbol&&(n=Object.assign(r.defaultSymbol(),r.self.getSymbol())),t(n)})).then((function(data){return e(data)})).catch((function(t){return n(t)}))}},{key:"getBars",value:function(t,e,n,r,o,c){"4hour"!=this.self.interval&&"240"!=e||(e="240"),"1day"!=this.self.interval&&"1day"!=e||(e="1D"),"1week"!=this.self.interval&&"1week"!=e&&"10080"!=this.self.interval&&"10080"!=e||(e="10080"),"1mon"!=this.self.interval&&"1mon"!=e&&"43200"!=this.self.interval&&"43200"!=e||(e="43200");this.self.getBars(t,e,n,r,(function(data){data&&data.length?o(data,{noData:!0}):o([],{noData:!0})}))}},{key:"subscribeBars",value:function(t,e,n,r,o){"4hour"!=this.self.interval&&"240"!=e||(e="240"),"1day"!=this.self.interval&&"1day"!=e||(e="1D"),"1week"!=this.self.interval&&"1week"!=e&&"10080"!=this.self.interval&&"10080"!=e||(e="10080"),"1mon"!=this.self.interval&&"1mon"!=e&&"10080"!=this.self.interval&&"10080"!=e||(e="43200"),e?"D"==r.split("_")[1]&&(r=r.split("_")[0],r="".concat(r,"_").concat(e)):(e=this.self.oldInterval,r=r.split("_")[0],r="".concat(r,"_").concat(e)),this.barsUpdater.subscribeBars(t,e,n,r,o)}},{key:"unsubscribeBars",value:function(t){var e=null;"4hour"!=this.self.oldInterval&&"240"!=this.self.oldInterval||(e="240"),"1day"!=this.self.oldInterval&&"1D"!=this.self.oldInterval||(e="1D"),"1week"!=this.self.oldInterval&&"1W"!=this.self.oldInterval&&"10080"!=this.self.oldInterval||(e="10080"),"1mon"!=this.self.oldInterval&&"1M"!=this.self.oldInterval&&"43200"!=this.self.oldInterval||(e="43200"),e?"D"==t.split("_")[1]&&(t=t.split("_")[0],t="".concat(t,"_").concat(e)):(e=this.self.oldInterval,t=t.split("_")[0],t="".concat(t,"_").concat(e)),this.barsUpdater.unsubscribeBars(t)}},{key:"defaultConfiguration",value:function(){return{supports_search:!0,supports_group_request:!1,supported_resolutions:["1","5","15","30","60","240","10080","43200","1D","2D","3D","1W","1M"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0}}},{key:"defaultSymbol",value:function(){return{name:this.self.symbol.toLowerCase(),timezone:"Asia/Shanghai",minmov:1,minmov2:0,pointvalue:1,fractional:!1,session:"24x7",has_intraday:!0,has_no_volume:!1,description:this.self.symbol.toLowerCase(),pricescale:Number(this.self.pricescale)?Number(this.self.pricescale):100,ticker:this.self.symbol.toLowerCase(),supported_resolutions:["1","5","15","30","60","240","10080","43200","1D","2D","3D","1W","1M"]}}}]),t}();e.default=l},1207:function(t,e,n){var content=n(1270);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(59).default)("70a82bb6",content,!0,{sourceMap:!1})},1269:function(t,e,n){"use strict";n(1207)},1270:function(t,e,n){var r=n(58),o=n(154),c=n(1271),l=n(1272),d=n(1273),h=n(1274),f=n(1275),v=n(1276),_=n(1277),m=n(1278),y=n(1279),k=n(1280),w=n(1281),S=n(1282),C=n(1283),D=n(1284),I=r((function(i){return i[1]})),A=o(c),x=o(l),T=o(d),P=o(h),R=o(f),B=o(v),E=o(_),L=o(m),O=o(y),M=o(k),$=o(w),z=o(S),F=o(C),W=o(D);I.push([t.i,'.bk09[data-v-77f374d8]{\n  background-color:#09b67d\n}\n.bk10[data-v-77f374d8]{\n  background:#b8babb!important;\n  background-color:#b8babb!important\n}\n.bk19[data-v-77f374d8]{\n  background-color:#f7f7f7\n}\n.bk29[data-v-77f374d8]{\n  background-color:#fff\n}\n.bk34[data-v-77f374d8]{\n  background-color:#a3acbd\n}\n.bk52[data-v-77f374d8]{\n  background-color:#333\n}\n.bk62[data-v-77f374d8]{\n  background-color:#0b1821\n}\n.bk88[data-v-77f374d8]{\n  background-color:#02ad8f\n}\n.bk112[data-v-77f374d8]{\n  background-color:#131722\n}\n.bk113[data-v-77f374d8]{\n  background-color:#02ad8f\n}\n.bk114[data-v-77f374d8]{\n  background-color:#222e3e\n}\n.bk117[data-v-77f374d8]{\n  background-color:#08050c\n}\n.bk121[data-v-77f374d8]{\n  background-color:#13181a\n}\n.bk122[data-v-77f374d8]{\n  background-color:#162229\n}\n.cl08[data-v-77f374d8]{\n  color:#aa5369\n}\n.cl09[data-v-77f374d8]{\n  color:#09b67d\n}\n.cl23[data-v-77f374d8]{\n  color:#5c5c5c\n}\n.cl24[data-v-77f374d8]{\n  color:#858585\n}\n.cl25[data-v-77f374d8]{\n  color:#adadad\n}\n.cl29[data-v-77f374d8]{\n  color:#fff\n}\n.cl52[data-v-77f374d8]{\n  color:#333\n}\n.cl75[data-v-77f374d8]{\n  color:#959595\n}\n.cl77[data-v-77f374d8]{\n  color:#cd332d\n}\n.cl88[data-v-77f374d8]{\n  color:#02ad8f\n}\n.cl110[data-v-77f374d8]{\n  color:#4adb62\n}\n.cl113[data-v-77f374d8]{\n  color:#02ad8f\n}\n.cl123[data-v-77f374d8]{\n  color:#c1d3df\n}\n.cl125[data-v-77f374d8]{\n  color:#707d8f\n}\n.cl127[data-v-77f374d8]{\n  color:#08b67e\n}\n.cl128[data-v-77f374d8]{\n  color:#d5742c\n}\n.cl_buy[data-v-77f374d8]{\n  color:#03bf7b\n}\n.cl_sell[data-v-77f374d8]{\n  color:#eb4d5c\n}\n.br-cl09[data-v-77f374d8]{\n  border:1px solid #09b67d\n}\n.br-cl13[data-v-77f374d8]{\n  border:1px solid #47545c\n}\n.br-cl72[data-v-77f374d8]{\n  border:1px solid #ededed\n}\n.tl[data-v-77f374d8]{\n  text-align:left\n}\n.tc[data-v-77f374d8]{\n  text-align:center\n}\n.tr[data-v-77f374d8]{\n  text-align:right\n}\n.fl[data-v-77f374d8]{\n  float:left\n}\n.fr[data-v-77f374d8]{\n  float:right\n}\n.hover-cl09[data-v-77f374d8]:hover{\n  cursor:pointer;\n  color:#09b67d\n}\n.isOpenState[data-v-77f374d8]{\n  width:100%;\n  position:absolute;\n  height:100%;\n  top:0;\n  left:0;\n  z-index:999;\n  background:rgba(0,0,0,.8);\n  display:flex;\n  justify-content:center;\n  align-items:center\n}\n.isOpenState .isOpenStateText[data-v-77f374d8]{\n  line-height:100%\n}\n.el-tooltip__popper.is-dark.chart_tooltip[data-v-77f374d8]{\n  margin-top:0;\n  background:#292e39\n}\n.el-tooltip__popper.is-dark.chart_tooltip .popper__arrow[data-v-77f374d8],.el-tooltip__popper.is-dark.chart_tooltip .popper__arrow[data-v-77f374d8]:after{\n  border-bottom-color:#292e39\n}\n.plugin_interval_minute_tip[data-v-77f374d8]{\n  position:relative;\n  cursor:pointer;\n  height:30px;\n  line-height:30px;\n  display:inline-block;\n  text-align:center;\n  padding-right:12px\n}\n.buybit-chart-plugin .plugin_interval .plugin_interval_tip.active[data-v-77f374d8],.buybit-chart-plugin .plugin_interval .plugin_interval_tip[data-v-77f374d8]:hover,.plugin_interval_minute_tip.active[data-v-77f374d8],.plugin_interval_minute_tip[data-v-77f374d8]:hover,.plugin_interval_tip.active[data-v-77f374d8]{\n  color:#02ad8f;\n  background-color:#292e39\n}\n.plugin_interval_minute_tip.active[data-v-77f374d8]:after,.plugin_interval_minute_tip[data-v-77f374d8]:after{\n  content:"";\n  top:50%;\n  transform:translateY(-50%);\n  display:inline-block;\n  position:absolute;\n  width:6px;\n  height:4px;\n  background-image:url('+A+");\n  background-size:cover;\n  right:0\n}\n.plugin_interval_minute_tip[data-v-77f374d8]:hover:after,.plugin_interval_tip.active .plugin_interval_minute_tip[data-v-77f374d8]:after{\n  background-image:url("+x+")\n}\n.plugin_interval_minute[data-v-77f374d8]{\n  position:relative\n}\n.plugin_interval_minute_content[data-v-77f374d8]{\n  position:absolute;\n  font-size:12px;\n  color:#fff;\n  left:0;\n  line-height:36px;\n  background-color:#292e39;\n  width:80px;\n  z-index:2;\n  top:30px;\n  box-shadow:0 2px 6px 0 rgba(0,0,0,.15);\n  border-radius:2px\n}\n.plugin_interval_minute_content li[data-v-77f374d8]{\n  padding:0 10px;\n  cursor:pointer\n}\n.plugin_interval_minute_content li.active[data-v-77f374d8],.plugin_interval_minute_content li[data-v-77f374d8]:hover{\n  background-color:#333946\n}\n.buybit-chart[data-v-77f374d8]{\n  height:100%;\n  position:relative;\n  display:flex;\n  flex-direction:column\n}\n.buybit-chart.fullscreen[data-v-77f374d8]{\n  background-color:#131722!important\n}\n.buybit-chart.fullscreen .coinpool-chart-content[data-v-77f374d8]{\n  width:100%;\n  height:100%;\n  position:absolute;\n  top:0\n}\n.buybit-chart-plugin[data-v-77f374d8]{\n  font-size:12px;\n  position:relative;\n  z-index:2;\n  border-bottom:1px solid #292e39;\n  background-color:#1e222a\n}\n.buybit-chart-plugin .plugin_set_button[data-v-77f374d8]{\n  float:left;\n  width:24px;\n  height:30px;\n  display:inline-block;\n  background-repeat:no-repeat;\n  background-size:14px;\n  background-position:50%;\n  margin-left:10px;\n  cursor:pointer\n}\n.buybit-chart-plugin .set_button[data-v-77f374d8]{\n  background-image:url("+T+")\n}\n.buybit-chart-plugin .set_button[data-v-77f374d8]:hover{\n  background-image:url("+P+")\n}\n.buybit-chart-plugin .index_button[data-v-77f374d8]{\n  background-image:url("+R+")\n}\n.buybit-chart-plugin .index_button[data-v-77f374d8]:hover{\n  background-image:url("+B+")\n}\n.buybit-chart-plugin .plugin_major_button[data-v-77f374d8]{\n  float:left;\n  display:inline-block;\n  width:36px;\n  height:30px;\n  border-right:1px solid #292e39;\n  border-left:1px solid #292e39;\n  background-size:16px;\n  background-repeat:no-repeat;\n  background-image:url("+E+");\n  background-position:50%;\n  cursor:pointer\n}\n.buybit-chart-plugin .plugin_major_button[data-v-77f374d8]:hover{\n  background-image:url("+L+")\n}\n.chart-content[data-v-77f374d8]{\n  position:relative;\n  width:100%;\n  flex:1\n}\n.coinpool-chart-content[data-v-77f374d8]{\n  background:#1e222a;\n  height:100%;\n  position:absolute;\n  width:100%;\n  top:0;\n  left:0;\n  z-index:0\n}\n.coinpool-chart-content div[data-v-77f374d8]{\n  width:100%;\n  height:100%\n}\n.coinpool-chart-content.active[data-v-77f374d8]{\n  z-index:1\n}\n.buybit-chart-plugin .plugin_interval[data-v-77f374d8]{\n  color:#8790a1\n}\n.buybit-chart-plugin .plugin_interval .plugin_interval_tip[data-v-77f374d8]{\n  cursor:pointer;\n  height:30px;\n  line-height:30px;\n  display:inline-block;\n  padding:0 10px;\n  float:left\n}\n.buybit-chart-plugin .plugin_full[data-v-77f374d8]{\n  background-image:url("+O+");\n  background-size:16px;\n  background-repeat:no-repeat;\n  background-position:50%;\n  display:inline-block;\n  float:left;\n  width:36px;\n  height:30px;\n  cursor:pointer\n}\n.fullscreen .plugin_full[data-v-77f374d8]{\n  background-image:url("+M+")\n}\n.buybit-chart-plugin .plugin_chart_nav[data-v-77f374d8]{\n  color:#c5c3dd;\n  display:inline-block;\n  position:relative;\n  float:left\n}\n.buybit-chart-plugin .plugin_chart_nav .depth[data-v-77f374d8],.buybit-chart-plugin .plugin_chart_nav .trading[data-v-77f374d8]{\n  float:left;\n  background-size:16px 16px;\n  background-repeat:no-repeat;\n  background-position:50%;\n  display:inline-block;\n  width:28px;\n  height:30px\n}\n.buybit-chart-plugin .plugin_chart_nav .trading[data-v-77f374d8]{\n  background-image:url("+$+")\n}\n.buybit-chart-plugin .plugin_chart_nav .trading.active[data-v-77f374d8]{\n  background-image:url("+z+")\n}\n.buybit-chart-plugin .plugin_chart_nav .depth[data-v-77f374d8]{\n  background-image:url("+F+")\n}\n.buybit-chart-plugin .plugin_chart_nav .depth.active[data-v-77f374d8]{\n  background-image:url("+W+")\n}\n.buybit-chart-plugin .plugin_chart_nav span[data-v-77f374d8]{\n  text-align:center;\n  padding:0 10px;\n  display:inline-block;\n  cursor:pointer;\n  height:30px\n}\n.buybit-chart-plugin .plugin_chart_nav span.active[data-v-77f374d8]{\n  background-color:#292e39;\n  color:#8790a1\n}",""]),I.locals={},t.exports=I},1271:function(t,e,n){t.exports=n.p+"40ebb29686eca88f80451fbab6fb4045.svg"},1272:function(t,e,n){t.exports=n.p+"be8a71d645de4ac565b6a014c8be7d49.svg"},1273:function(t,e,n){t.exports=n.p+"21c8718b41fcd05a544b193a25c57bd1.svg"},1274:function(t,e,n){t.exports=n.p+"e285b2d60e4731f41dd7b8275eb41173.svg"},1275:function(t,e,n){t.exports=n.p+"4198c87508bed984aa72c49c56573a14.svg"},1276:function(t,e,n){t.exports=n.p+"a2d5580588def96d424839a8a1816067.svg"},1277:function(t,e,n){t.exports=n.p+"b82b1a125050f20e04375f906cb74ae1.svg"},1278:function(t,e,n){t.exports=n.p+"7f7e27e7c12222309743702583be1173.svg"},1279:function(t,e,n){t.exports=n.p+"a7b220093620e64d85ba01210501e2a7.svg"},1280:function(t,e,n){t.exports=n.p+"32bd13d784ad93d1ac4d8e27aa44debe.svg"},1281:function(t,e,n){t.exports=n.p+"5b704bcf14874434cb15ec4b39f84d4e.svg"},1282:function(t,e,n){t.exports=n.p+"6cd99eced30a0d84fcbcb30a3f711b54.svg"},1283:function(t,e,n){t.exports=n.p+"917ed719cd506e7e8d87e04774f72b0e.svg"},1284:function(t,e,n){t.exports=n.p+"6e2da2d1818ef3d927ee4891353605c8.svg"},1324:function(t,e,n){"use strict";n.r(e);var r=n(30),o=(n(85),n(131),n(636),n(63),n(184),n(153),n(1257),n(1322)),c=(n(1203),n(1127)),l=n(1266),d=n.n(l),h=n(1204),f=n(1205),v=n(1206),_=["Etc/UTC","Africa/Cairo","Africa/Johannesburg","Africa/Lagos","America/Argentina/Buenos_Aires","America/Bogota","America/Caracas","America/Chicago","America/El_Salvador","America/Juneau","America/Lima","America/Los_Angeles","America/Mexico_City","America/New_York","America/Phoenix","America/Santiago","America/Sao_Paulo","America/Toronto","America/Vancouver","Asia/Almaty","Asia/Ashkhabad","Asia/Bahrain","Asia/Bangkok","Asia/Chongqing","Asia/Dubai","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Jakarta","Asia/Jerusalem","Asia/Kathmandu","Asia/Kolkata","Asia/Kuwait","Asia/Muscat","Asia/Qatar","Asia/Riyadh","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Taipei","Asia/Tehran","Asia/Tokyo","Atlantic/Reykjavik","Australia/ACT","Australia/Adelaide","Australia/Brisbane","Australia/Sydney","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Copenhagen","Europe/Helsinki","Europe/Istanbul","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Moscow","Europe/Paris","Europe/Riga","Europe/Rome","Europe/Stockholm","Europe/Tallinn","Europe/Vilnius","Europe/Warsaw","Europe/Zurich","Pacific/Auckland","Pacific/Chatham","Pacific/Fakaofo","Pacific/Honolulu","Pacific/Norfolk","US/Mountain"],m={name:"Home",components:{"buybit-depth-chart":o.default},props:["symbleParameString","ispro","fullWidth","width","height","KlineSingeData","DepthData"],data:function(){return{klineParams:{width:750,height:500,theme:"dark",language:"zh-cn",ranges:["1w","1d","4h","1h","30m","15m","5m","1m","line"],symbol:"BTC",symbolName:"BTC/USD",intervalTime:5e3,depthWidth:50,count:1},symbol:"xusdt",interval:"15m",oldInterval:null,orderbook:{},connState:0,loadingCount:1,depthsData:{asks:[],bids:[]},KlineData:{data:{depths:{asks:[],bids:[]},lines:{}},success:!1},widget:null,socket:new f.default,datafeeds:new v.default(this),cacheData:{},lastTime:null,getBarTimer:null,isLoading:!0,bg:"#131722",widgetloading:!0,widgetReady:!1,history:{},resolutionInterval:4,feed:null,bars:[],fullscreen:!1,activeChart:1,dayOverrides:{"scalesProperties.backgroundColor":"#ffffff","paneProperties.background":"#ffffff","scalesProperties.lineColor":"#DDDDE4"},nightOverrides:{"scalesProperties.backgroundColor":"#131722","paneProperties.background":"#131722","scalesProperties.lineColor":"#383655"},defaultOverrides:{editorFontsList:[""],volumePaneSize:"medium","paneProperties.crossHairProperties.color":"#646B8C","paneProperties.crossHairProperties.width":1,"paneProperties.crossHairProperties.style":0,"paneProperties.vertGridProperties.color":"RGBA(61, 118, 76, 0.15)","paneProperties.horzGridProperties.color":"RGBA(61, 118, 76, 0.15)","scalesProperties.backgroundColor":"#131722","scalesProperties.fontSize":11,"scalesProperties.lineColor":"#383655","scalesProperties.textColor":"#646B8C","mainSeriesProperties.candleStyle.upColor":"#46B05D","mainSeriesProperties.candleStyle.downColor":"#CD4559","mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!1,"mainSeriesProperties.candleStyle.wickUpColor":"#46B05D","mainSeriesProperties.candleStyle.wickDownColor":"#CD4559","mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.areaStyle.color1":"rgba(111, 143, 241, 0.05)","mainSeriesProperties.areaStyle.color2":"rgba(111, 143, 241, 0.02)","mainSeriesProperties.areaStyle.linecolor":"#02AD8F","mainSeriesProperties.areaStyle.linestyle":0,"mainSeriesProperties.areaStyle.linewidth":1,"mainSeriesProperties.areaStyle.priceSource":"close"},sub:"",timezone:"",lockReconnect:!1,currentState:!0,pricescale:100,isLoadingState:!1,timeInterval:null,initState:!1,symbleParameArray:"",from:"",to:"",background:"",isOpenState:!1}},watch:{KlineSingeData:{handler:function(t){this.onMessage(t,!0)}},DepthData:{handler:function(t){}},"$store.state.background":function(t){},"$store.state.locale":function(){this.setLanguage()},widgetReady:function(t){t&&(this.hideLegend(),this.setLanguage(),this.widget.chart().createStudy("Moving Average",!1,!1,[5],(function(t){}),{"plot.color.0":"#ff131a"}),this.widget.chart().createStudy("Moving Average",!1,!1,[10],(function(t){}),{"plot.color.0":"#ff131a"}),this.widget.chart().createStudy("Moving Average",!1,!1,[30],(function(t){}),{"plot.color.0":"#ffd700"}),this.widget.chart().createStudy("Moving Average",!1,!1,[60],(function(t){}),{"plot.color.0":"#ffd700"}))}},destroyed:function(){clearInterval(this.timeInterval),this.ws.close(),this.currentState=!1},mounted:function(){var t=this;this.$nextTick((function(){t.activeChart,window.addEventListener("resize",(function(){t.activeChart})),t.interval=t.$store.state.interval,t.resolutionInterval=t.$store.state.intervalType,t.background=t.$store.state.background,t.symbleParameArray=t.$route.params.id?2!=t.$route.params.id.split("_").length?null:t.$route.params.id.split("_"):null,t.from=t.symbleParameArray?t.symbleParameArray[0].toUpperCase():"--",t.to=t.symbleParameArray?t.symbleParameArray[1].toUpperCase():"--",t.$bus.on("destroyedSocket",(function(){t.ws.close()})),t.init()}))},created:function(){this.sub="market.".concat(this.symbleParameString,".kline.1min")},beforeDestroy:function(){for(var t in c.default.timer)clearTimeout(c.default.timer[t]),c.default.timer[t]=-1;for(var e in c.default.pollingtimer)clearTimeout(c.default.pollingtimer[e]),c.default.pollingtimer[e]=-1},methods:{requestData:function(t,e){var n=this,r=1e3*this.timeScreening(this.switchSetTimeInterval(this.interval+"")),o=Math.round((new Date).getTime()),c={pair:"".concat(this.from,"/").concat(this.to),interval:this.switchSetTimeInterval(this.interval+""),startTime:t||r||0,endTime:e||o||0};this.$api.Market.GetKLineDepth(c).then((function(t){t.isSuccess&&(n.klineData={data:t.data,success:!0},n.depthsData=t.data.depths,n.onMessage(n.klineData),n.$refs.callMethods&&n.$refs.callMethods.kline&&n.$refs.callMethods.kline.chartMgr&&(n.$refs.callMethods.kline.chartMgr.getChart().updateDataAndDisplay(n.klineData.data.lines),n.$refs.callMethods.resize(document.getElementsByClassName("buybit-chart")[0].clientWidth,document.getElementsByClassName("buybit-chart")[0].clientHeight)))}))},refreshKlineData:function(option){9e5===option?console.log("进入"):3e5===option?console.log("5分钟"+option):console.log("其他时间"+option)},init:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCoinTeamConfig();case 2:t.ws=new WebSocket("wss://www.buybit.com/api/v1/buybit/power/ws/kline"),t.ws.onopen=function(){},t.ws.onmessage=function(e){var n=new FileReader,r=t;n.readAsText(e.data,"utf-8"),n.onload=function(t){r.handleData(t.target.result)},t.initView()},t.ws.onclose=function(){console.log("close2"),t.reconnect()},t.ws.onerror=function(e){console.log("error",e),t.reconnect()};case 7:case"end":return e.stop()}}),e)})))()},getCoinTeamConfig:function(){"".concat(this.from,"-").concat(this.to)},reconnect:function(){var t=this;!this.lockReconnect&&this.currentState&&(this.lockReconnect=!0,setTimeout((function(){console.log("没连接上会一直重连，设置延迟避免请求过多"),t.lockReconnect=!1}),5e3))},reqWebsocketData:function(t){if(this.interval){var e=1e3*this.timeScreening(this.interval),n=Math.round((new Date).getTime());0==this.connState?(this.requestData(e,n),this.connState=1):this.requestData(this.newFromTimeFrom(this.switchSetTimeInterval(this.interval),this.lastTime),this.lastTime)}this.isLoadingState=!1},newFromTimeFrom:function(time,t,e){var n;switch(time+=""){case"1m":n=t-6e7;break;case"5m":n=t-3e8;break;case"15m":n=t-9e8;break;case"30m":n=t-18e8;break;case"1h":n=t-36e8;break;case"2h":n=t-72e8;break;case"4h":n=t-144e8;break;case"6h":n=t-216e8;break;case"8h":n=t-288e8;break;case"12h":n=t-432e8;break;case"1d":n=t-864e8;break;case"3d":n=t-2592e8;break;case"1w":n=t-6048e8;break;case"1M":n=t-26784e8}return n},timeScreening:function(time){var t;switch(time+=""){case"1m":t=Math.round((new Date).getTime()/1e3)-17280;break;case"5m":t=Math.round((new Date).getTime()/1e3)-86400;break;case"15m":t=Math.round((new Date).getTime()/1e3)-259200;break;case"30m":t=Math.round((new Date).getTime()/1e3)-518400;break;case"1h":t=Math.round((new Date).getTime()/1e3)-1036800;break;case"4h":t=Math.round((new Date).getTime()/1e3)-4147200;break;case"1d":t=Math.round((new Date).getTime()/1e3)-15552e3;break;case"1w":t=Math.round((new Date).getTime()/1e3)-18144e4;break;case"1M":t=Math.round((new Date).getTime()/1e3)-139968e3}return t},handleData:function(t){'"连接成功!"'!=t&&JSON.parse(t).data},sendHeartMessage:function(t){this.ws.send(JSON.stringify({ping:t}))},setBackground:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$nextTick((function(){}));case 2:return n=t.$store.state.background,e.next=5,document.querySelector('iframe[id^="tradingview"]');case 5:return r=e.sent,e.next=8,r.contentWindow.document;case 8:o=e.sent,(c=o.querySelector(".chart-page")).className=c.className.replace(/day/g,"").replace(/night/g,""),c.className+="day"==n?" day":" night";try{t.widget.applyOverrides("day"==n?t.dayOverrides:t.nightOverrides),t.widget.applyStudiesOverrides({toolbar_bg:"day"==n?"#ffffff":"#131722"})}catch(t){}case 13:case"end":return e.stop()}}),e)})))()},hideLegend:function(){var t;document.createEvent?(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null):t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});var a=document.getElementById(this.widget._id).contentWindow.document.querySelector("a.pane-legend-minbtn.apply-common-tooltip.apply");a&&a.dispatchEvent(t)},getintervalvalue:function(t,e){return t.find((function(t){return t.key==e})).value},switchSetTimeInterval:function(time){var t="";switch(time){case"1":t="1m";break;case"5":t="5m";break;case"10":t="10m";break;case"15":t="15m";break;case"30":t="30m";break;case"60":t="1h";break;case"120":t="2h";break;case"240":t="4h";break;case"360":t="6h";break;case"720":t="12h";case"1D":t="1d";break;case"10080":t="1w";break;case"43200":t="1M"}return t},setTimeInterval:function(time){time=Number(time),this.resolutionInterval=time;var t="";switch(time){case 2:t="1";break;case 3:t="5";break;case 14:t="10";break;case 4:t="15";break;case 5:t="30";break;case 6:t="60";break;case 7:t="1D";break;case 8:t="10080";break;case 9:t="43200";break;case 10:t="120";break;case 11:t="240";break;case 12:t="360";break;case 13:t="720"}return t},setLanguage:function(){try{this.widget.chart().setLanguage(this.getlanguage())}catch(t){}},setResolution:function(time){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var i,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{for(i in c.default.history)delete c.default.history[i].firstBar;n=t.setTimeInterval(time),t.$store.commit("SET_INTERVALTYPE",Number(time)),t.$store.commit("SET_INTERVAL",n),r=t.selectChartType("STYLE_CANDLES"),t.interval!=n&&(t.oldInterval=t.interval,t.interval=n,t.loadingCount=1,t.connState=0,t.cacheData=[]),t.widget.chart().setChartType(r),t.widget.chart().setResolution(n,(function(t){})),t.requestData()}catch(t){}case 1:case"end":return e.stop()}}),e)})))()},selectChartType:function(t){var e;switch(t){case"STYLE_BARS":e=0;break;case"STYLE_CANDLES":e=1;break;case"STYLE_AREA":e=3;break;case"STYLE_LINE":e=2;break;case"STYLE_HEIKEN_ASHI":e=8}return e},setChartType:function(t){try{var e=this.selectChartType(t);this.resolutionInterval=1,this.widget.chart().setChartType(e),this.widget.chart().resetData()}catch(t){}},setOtherWindows:function(t){this.widget.chart().executeActionById(t)},toggleFullScreen:function(){this.fullscreen=!this.fullscreen,this.$refs.fullscreen.toggle()},fullscreenChange:function(t){this.fullscreen=t},getlanguage:function(){return"zh-CN"==this.$store.state.locale?"zh":"zh-TW"==this.$store.state.locale?"zh_TW":"en-US"==this.$store.state.locale?"en":void 0},initView:function(){var t=this;if(!this.widget){var e=d.a.tz.guess();_.indexOf(e)<0&&(e="Etc/UTC");var n=Object.assign(this.defaultOverrides,"day"==this.$store.state.background?this.dayOverrides:this.nightOverrides);this.timezone=e;var symbol=this.symbleParameString;this.symbol=symbol,this.widget=new h.default.widget({width:"100%",toolbar_bg:"day"==this.$store.state.background?"#ffffff":"15202a",symbol:symbol.toLowerCase(),interval:this.interval,container_id:"coinpool-chart-content",datafeed:this.datafeeds,library_path:"/chart/",timezone:e,locale:this.getlanguage(),debug:!1,autosize:!0,disabled_features:["header_widget_dom_node","save_chart_properties_to_local_storage","use_localstorage_for_settings","volume_force_overlay","timeframes_toolbar","header_screenshot","header_saveload","header_symbol_search","header_chart_type","header_indicators","header_undo_redo","header_compare","header_resolutions","items_favoriting","header_interval_dialog_button","show_interval_dialog_on_key_press"],studies_overrides:{"volume.show ma":!1},overrides:n,custom_css_url:"css/trade.css",enabled_features:["study_templates"],charts_storage_api_version:"1.1",client_id:"coinpool.com",user_id:"public_user_id"}),this.widget.onChartReady((function(){var e=document.getElementById(t.widget._id);e&&(e.style.visibility="visible"),t.widgetReady=!0}))}},sendMessage:function(data){var t=this;this.socket.checkOpen()?this.socket.send(data):this.socket.on("open",(function(){t.socket.send(data)}))},onMessage:function(data,t){var e=this;clearInterval(this.timeInterval),this.timeInterval=setInterval((function(){e.ws.send(JSON.stringify({ping:(new Date).getTime()}))}),3e3),this.interval&&("4hour"==this.interval?this.interval="240":"1day"==this.interval?this.interval="1D":"1week"==this.interval||"10080"==this.interval?this.interval="10080":"1mon"!=this.interval&&"43200"!=this.interval||(this.interval="43200"));var n="".concat(this.symbol,"-").concat(this.interval),r=n+"state",o=n+"Callback",c=this.cacheData[o];if(!t&&data.data&&data.data.lines&&data.data.lines.length){this.isLoadingState=!0,data.data.lines.length<180&&(this.connState=2);var l=[];data.data.lines.forEach((function(t){l.push({time:t[0],open:t[1],high:t[2],low:t[3],close:t[4],volume:t[5]})})),this.cacheData[n]||(this.cacheData[n]=l),c&&(c(l),delete this.cacheData[o]),this.cacheData[r]=!1,this.lastTime=l[0].time}else this.isLoadingState=!0,c([],{noData:!0});if(t){this.depthsData=data.depth;var d="".concat(this.symbol,"-").concat(this.interval),h=d+"Callback";this.cacheData[h];document.title="".concat(data.data[4]," ").concat(this.from.toLocaleUpperCase(),"/").concat(this.to.toLocaleUpperCase()," | ").concat(this.$t("HashRate.pro.title"));var f={time:data.data[0],open:data.data[1],high:data.data[2],low:data.data[3],close:data.data[4],volume:data.data[5]};f.time>this.lastTime&&this.cacheData[d]&&this.cacheData[d].length?(this.cacheData[d].push(f),this.lastTime=f.time):f.time>=this.lastTime&&this.cacheData[d]&&this.cacheData[d].length&&(this.cacheData[d][this.cacheData[d].length-1]=f),this.datafeeds.barsUpdater.updateData()}this.widgetloading=!1,this.initState=!0},getBars:function(t,e,n,r,o){var c=this;this.interval&&("4hour"==this.interval&&(this.interval=e="240"),"1day"==this.interval&&(this.interval=e="1D"),"1week"!=this.interval&&"10080"!=this.interval||(this.interval=e="10080"),"1mon"!=this.interval&&"43200"!=this.interval||(this.interval=e="43200"));var l=this.symbol+"-"+this.interval,d=l+"load",h=l+"state";if(!this.cacheData[l]&&!this.cacheData[h])return this.cacheData[d]=n,this.initMessage(t,e,n,r,o),this.cacheData[h]=!0,!1;if(!this.cacheData[d]||this.cacheData[d]>n)return this.cacheData[d]=n,this.initMessage(t,e,n,r,o),this.cacheData[h]=!0,!1;if(this.cacheData[h],this.cacheData[l]&&this.cacheData[l].length){this.isLoading=!1;var f=[];this.cacheData[l].forEach((function(t,e){t.time>=1e3*n&&t.time<=1e3*r&&f.push(t)})),o(f)}else this.getBarTimer=setTimeout((function(){c.getBars(t,c.interval,n,r,o)}),10)},initMessage:function(t,e,n,r,o){var c=this.symbol+"-"+this.interval+"Callback";this.cacheData[c]=o,this.reqWebsocketData(n)}}},y=(n(1269),n(41)),component=Object(y.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fullscreen",{ref:"fullscreen",staticClass:"buybit-chart",attrs:{id:"buybit-chart",fullscreen:t.fullscreen},on:{change:t.fullscreenChange,"update:fullscreen":function(e){t.fullscreen=e}}},[t.isOpenState?n("section",{staticClass:"isOpenState"},[n("section",{staticClass:"cl09 tc isOpenStateText"},[t._v(t._s(t.$t("HashRate.pro.tradeView.opanText")))])]):t._e(),t._v(" "),n("div",{staticClass:"buybit-chart-plugin clearfix flex items-center justify-between"},[n("div",{staticClass:"flex-1"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0==t.activeChart||1==t.activeChart,expression:"activeChart==0 || activeChart==1"}],staticClass:"plugin_interval"},[n("span",{staticClass:"plugin_interval_tip",class:{active:1==t.resolutionInterval},on:{click:function(e){t.isLoadingState&&t.setChartType("STYLE_AREA")}}},[t._v(t._s(t.$t("HashRate.pro.tradeView.area")))]),t._v(" "),n("span",{staticClass:"plugin_interval_tip",class:{active:2==t.resolutionInterval},on:{click:function(e){t.isLoadingState&&t.setResolution(2)}}},[t._v("1"+t._s(t.$t("HashRate.pro.tradeView.minute")))]),t._v(" "),n("span",{staticClass:"plugin_interval_tip",class:{active:3==t.resolutionInterval},on:{click:function(e){t.isLoadingState&&t.setResolution(3)}}},[t._v("5"+t._s(t.$t("HashRate.pro.tradeView.minute")))]),t._v(" "),n("span",{staticClass:"plugin_interval_tip",class:{active:4==t.resolutionInterval},on:{click:function(e){t.isLoadingState&&t.setResolution(4)}}},[t._v("15"+t._s(t.$t("HashRate.pro.tradeView.minute")))]),t._v(" "),n("span",{staticClass:"plugin_interval_tip",class:{active:5==t.resolutionInterval},on:{click:function(e){t.isLoadingState&&t.setResolution(5)}}},[t._v("30"+t._s(t.$t("HashRate.pro.tradeView.minute")))]),t._v(" "),n("span",{staticClass:"plugin_interval_tip",class:{active:6==t.resolutionInterval},on:{click:function(e){t.isLoadingState&&t.setResolution(6)}}},[t._v("1"+t._s(t.$t("HashRate.pro.tradeView.hour")))]),t._v(" "),n("span",{staticClass:"plugin_interval_tip",class:{active:11==t.resolutionInterval},on:{click:function(e){t.isLoadingState&&t.setResolution(11)}}},[t._v("4"+t._s(t.$t("HashRate.pro.tradeView.hour")))]),t._v(" "),n("span",{staticClass:"plugin_interval_tip",class:{active:7==t.resolutionInterval},on:{click:function(e){t.isLoadingState&&t.setResolution(7)}}},[t._v(t._s(t.$t("HashRate.pro.tradeView.dailyLine")))]),t._v(" "),n("span",{staticClass:"plugin_interval_tip",class:{active:8==t.resolutionInterval},on:{click:function(e){t.isLoadingState&&t.setResolution(8)}}},[t._v(t._s(t.$t("HashRate.pro.tradeView.weeklyLine")))]),t._v(" "),n("span",{staticClass:"plugin_interval_tip",class:{active:9==t.resolutionInterval},on:{click:function(e){t.isLoadingState&&t.setResolution(9)}}},[t._v(t._s(t.$t("HashRate.pro.tradeView.lunarLine")))]),t._v(" "),n("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:1==t.activeChart,expression:"activeChart==1"}],attrs:{content:t.$t("HashRate.pro.tradeView.set"),"popper-class":"chart_tooltip",placement:"bottom"}},[n("span",{staticClass:"plugin_set_button set_button",on:{click:function(e){return t.setOtherWindows("scalesProperties")}}})]),t._v(" "),n("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:1==t.activeChart,expression:"activeChart==1"}],attrs:{effect:"dark",content:t.$t("HashRate.pro.tradeView.index"),"popper-class":"chart_tooltip",placement:"bottom"}},[n("span",{staticClass:"plugin_set_button index_button",on:{click:function(e){return t.setOtherWindows("insertIndicator")}}})]),t._v(" "),n("span",{staticClass:"plugin_full",on:{click:t.toggleFullScreen}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2==t.activeChart,expression:"activeChart==2"}],staticClass:"plugin_interval"},[n("span",{staticClass:"plugin_interval_tip"},[t._v("深度图")])])]),t._v(" "),n("div",{staticClass:"flex items-center justify-end flex-none"},[n("div",{staticClass:"plugin_interval",on:{click:function(e){t.activeChart=1}}},[n("span",{staticClass:"plugin_interval_tip",class:{active:1==t.activeChart}},[t._v("TradingView")])]),t._v(" "),n("div",{staticClass:"plugin_interval",on:{click:function(e){t.activeChart=2}}},[n("span",{staticClass:"plugin_interval_tip",class:{active:2==t.activeChart}},[t._v("Depth")])])])]),t._v(" "),n("div",{staticClass:"chart-content"},[n("div",{directives:[{name:"buybit-loading",rawName:"v-buybit-loading",value:t.widgetloading,expression:"widgetloading"}],ref:"coinpool-chart-content",staticClass:"coinpool-chart-content buybit-loading",class:{active:1==t.activeChart},attrs:{id:"coinpool-chart-content"}}),t._v(" "),n("div",{staticClass:"coinpool-chart-content",class:{active:2==t.activeChart}},[n("buybit-depth-chart",{ref:"depth-chart",attrs:{"bg-color":"day"==t.background?"#FFFFFF":"#1E222A",symblefrom:t.from,symbleto:t.to,"symble-parame-string":t.symbleParameString,"depths-data":t.depthsData,width:t.width,height:t.height}})],1)])])}),[],!1,null,"77f374d8",null);e.default=component.exports}}]);